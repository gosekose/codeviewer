<!doctype html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-4.dtd">
<html class="h-100" lang="en"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no">
  <meta name="description" content="A growing collection of ready to use components for the CSS framework Bootstrap 5">
  <meta name="author" content="Holger Koenemann">
  <meta name="generator" content="Eleventy v2.0.0">
  <meta name="HandheldFriendly" content="true">
  <title>CODEVIEWER</title>
  <link rel="stylesheet" type="text/css" th:href="@{/static/css/theme.min.css}">

  <style>

    /* inter-300 - latin */
    @font-face {
      font-family: 'Inter';
      font-style: normal;
      font-weight: 300;
      font-display: swap;
      src: local(''),
      url('/static/fonts/inter-v12-latin-300.woff2') format('woff2'), /* Chrome 26+, Opera 23+, Firefox 39+ */
      url('/static/fonts/inter-v12-latin-300.woff') format('woff'); /* Chrome 6+, Firefox 3.6+, IE 9+, Safari 5.1+ */
    }

    @font-face {
      font-family: 'Inter';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: local(''),
      url('/static/fonts/inter-v12-latin-500.woff2') format('woff2'), /* Chrome 26+, Opera 23+, Firefox 39+ */
      url('/static/fonts/inter-v12-latin-500.woff') format('woff'); /* Chrome 6+, Firefox 3.6+, IE 9+, Safari 5.1+ */
    }
    @font-face {
      font-family: 'Inter';
      font-style: normal;
      font-weight: 700;
      font-display: swap;
      src: local(''),
      url('/static/fonts/inter-v12-latin-700.woff2') format('woff2'), /* Chrome 26+, Opera 23+, Firefox 39+ */
      url('/static/fonts/inter-v12-latin-700.woff') format('woff'); /* Chrome 6+, Firefox 3.6+, IE 9+, Safari 5.1+ */
    }

    .field-error {
      color: red;
    }

  </style>

</head>

<body class="d-flex h-100 w-100" data-bs-spy="scroll" data-bs-target="#navScroll">

<div class="h-100 container-fluid">
  <div class="h-100 row d-flex align-items-stretch">

    <div class="col-12 col-md-7 col-lg-6 d-flex align-items-start flex-column px-vw-5">

      <header class="mb-auto py-vh-2 col-12">
        <a class="navbar-brand pe-4 fs-4" href="/">
          <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-layers-half" viewbox="0 0 16 16">
            <path d="M8.235 1.559a.5.5 0 0 0-.47 0l-7.5 4a.5.5 0 0 0 0 .882L3.188 8 .264 9.559a.5.5 0 0 0 0 .882l7.5 4a.5.5 0 0 0 .47 0l7.5-4a.5.5 0 0 0 0-.882L12.813 8l2.922-1.559a.5.5 0 0 0 0-.882l-7.5-4zM8 9.433 1.562 6 8 2.567 14.438 6 8 9.433z"/>
          </svg>
          <span class="ms-1 fw-bolder">IISE</span>
        </a>

      </header>
      <main class="mb-auto col-12">
        <h1>그룹 생성</h1>
        <div sec:authorize="isAuthenticated()">
          <form class="row" th:action="@{/api/v1/groups/edit}" th:object="${createGroupForm}" method="post">
<!--            <input type="hidden" th:field="*{id}" />-->
            <div class="col-12 col-lg-10 col-xl-8">

              <div class="mb-3">
                <label th:for="name" class="form-label">그룹명</label>
                <input type="text" id="name" class="form-control form-control-lg" th:errorclass="field-error" th:field="*{name}"  placeholder="그룹명은 필수입니다.">
              </div>
              <div class="field-error" th:errors="*{name}"></div>

              <div class="mb-3">
                <label th:for="joinClosedTime" class="form-label">가입 가능 기간</label>
                <input type="text" id="joinClosedTime" class="form-control form-control-lg" th:errorclass="joinClosedTime" th:field="*{joinClosedTime}">
              </div>
              <div class="field-error" th:errors="*{joinClosedTime}"></div>

              <div class="mb-3">
                <label th:for="maxMember" class="form-label">최대 인원</label>
                <input type="text" class="form-control form-control-lg" th:errorclass="maxMember" th:field="*{maxMember}">
              </div>
              <div class="field-error" th:errors="*{maxMember}"></div>

              <div class="mb-3">
                <label th:for="description" class="form-label">그룹 설명</label>
                <input type="text" class="form-control form-control-lg" th:field="*{description}">
              </div>

              <div class="mb-3">
                <div th:each="visibility: ${visibilities}">
                  <label class="form-label" th:text="${visibility.key}"></label>
                  <input type="radio" th:field="*{memberGroupVisibility}" th:errorclass="memberGroupVisibility" class="form-check-inline" th:value="${visibility.value}">
                </div>
              </div>
              <div class="field-error" th:errors="*{memberGroupVisibility}"></div>

              <div class="mb-3">
                <label th:for="skillTag" class="form-label">스킬 태그</label>
                <input type="text" class="form-control form-control-lg" th:field="*{skillTag}">
              </div>

              <div class="mb-3">
                <div>
                  <label class="form-label">가입 비밀번호 설정</label>
                  <input type="radio" class="form-check-inline" value="설정" name="passwordStatus" onclick="passwordOn()">
                  <label class="form-label">가입 비밀번호 해제</label>
                  <input type="radio" class="form-check-inline" value="해제" name="passwordStatus" onclick="passwordOff()" checked="checked">
                </div>
              </div>

              <div id="passwordOnOff">
                <div class="mb-3">
                  <label th:for="password" autocomplete="false" class="form-label">가입 비밀번호</label>
                  <input type="password" class="form-control form-control-lg" id="key" th:field="*{password}">
                  <div id="keyShow">SHOW</div>
                </div>
              </div>

              <button type="submit" class="btn btn-primary btn-xl">Submit</button>
            </div>
          </form>
        </div>
      </main>
    </div>


  </div>
  <footer>
  </footer>
  <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
  <script>

    function passwordOn() {
      $("#passwordOnOff").show();
    }

    function passwordOff() {
      $("#passwordOnOff").hide();
    }


    $("#key").on("keyup", function(event) {
      if (event.keyCode === 13) {
        event.preventDefault();
      } else {
        if (this.value) {
          $("#keyShow").css("display", "inline-block");
        } else {
          $("#keyShow").hide();
        }
      }
    }).focus();

    $("#keyShow").on("click", function() {
      if ($("#key").attr("type") == "password") {
        $("#key").attr("type", "text");
        $($(this)).text("H I D E");
      } else {
        $("#key").attr("type", "password");
        $($(this)).text("SHOW");
      }
    });


  </script>

</div></body>
</html>
